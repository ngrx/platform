(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{xV2a:function(n,t,e){"use strict";e.r(t);var o={};e.r(o),e.d(o,"loadBook",function(){return on});var l={};e.r(l),e.d(l,"searchSuccess",function(){return ln}),e.d(l,"searchFailure",function(){return rn});var r={};e.r(r),e.d(r,"addBookSuccess",function(){return un}),e.d(r,"addBookFailure",function(){return an}),e.d(r,"removeBookSuccess",function(){return cn}),e.d(r,"removeBookFailure",function(){return sn}),e.d(r,"loadBooksSuccess",function(){return bn}),e.d(r,"loadBooksFailure",function(){return dn});var i={};e.r(i),e.d(i,"loadCollection",function(){return pn});var u={};e.r(u),e.d(u,"searchBooks",function(){return fn});var a={};e.r(a),e.d(a,"addBook",function(){return mn}),e.d(a,"removeBook",function(){return hn});var c={};e.r(c),e.d(c,"selectBook",function(){return gn});var s=e("CcnG"),b=function(){return function(){}}(),d=e("t68o"),p=e("pMnS"),f=e("lzlj"),m=e("FVSy"),h=e("dJrM"),g=e("seP3"),k=e("Wf4p"),O=e("Fzqc"),v=e("dWZg"),y=e("wFw1"),j=e("b716"),x=e("gIcY"),B=e("/VYK"),I=e("Blfk"),C=e("Ip0R"),_=e("ZYjt"),P=s.ob({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function w(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,0,0,e._circleRadius,"mat-progress-spinner-stroke-rotate-"+e.diameter,e._strokeDashOffset,e._strokeCircumference,e._circleStrokeWidth)})}function q(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,0,0,e._circleRadius,e._strokeDashOffset,e._strokeCircumference,e._circleStrokeWidth)})}function M(n){return s.Ib(2,[(n()(),s.qb(0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),s.pb(1,16384,null,0,C.m,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),s.hb(16777216,null,null,1,null,w)),s.pb(3,278528,null,0,C.n,[s.P,s.M,C.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),s.hb(16777216,null,null,1,null,q)),s.pb(5,278528,null,0,C.n,[s.P,s.M,C.m],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(n,t){n(t,1,0,"indeterminate"===t.component.mode),n(t,3,0,!0),n(t,5,0,!1)},function(n,t){var e=t.component;n(t,0,0,e.diameter,e.diameter,e._viewBox)})}var z=function(){return function(){this.query="",this.searching=!1,this.error="",this.search=new s.m}}(),S=s.ob({encapsulation:0,styles:["mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%] {\n        display: flex;\n        justify-content: center;\n      }\n\n      mat-card-footer[_ngcontent-%COMP%] {\n        color: #ff0000;\n        padding: 5px 0;\n      }\n\n      .mat-form-field[_ngcontent-%COMP%] {\n        min-width: 300px;\n        margin-right: 10px; // Make room for the spinner\n      }\n\n      .mat-spinner[_ngcontent-%COMP%] {\n        position: relative;\n        top: 10px;\n        left: 10px;\n        visibility: hidden;\n      }\n\n      .mat-spinner.show[_ngcontent-%COMP%] {\n        visibility: visible;\n      }"],data:{}});function F(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),s.Gb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.error)})}function A(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,24,"mat-card",[["class","mat-card"]],null,null,null,f.d,f.a)),s.pb(1,49152,null,0,m.a,[],null,null),(n()(),s.qb(2,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.pb(3,16384,null,0,m.i,[],null,null),(n()(),s.Gb(-1,null,["Find a Book"])),(n()(),s.qb(5,0,null,0,15,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s.pb(6,16384,null,0,m.c,[],null,null),(n()(),s.qb(7,0,null,null,11,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,h.b,h.a)),s.pb(8,7389184,null,7,g.b,[s.k,s.h,[2,k.f],[2,O.b],[2,g.a],v.a,s.z,[2,y.a]],null,null),s.Eb(335544320,1,{_control:0}),s.Eb(335544320,2,{_placeholderChild:0}),s.Eb(335544320,3,{_labelChild:0}),s.Eb(603979776,4,{_errorChildren:1}),s.Eb(603979776,5,{_hintChildren:1}),s.Eb(603979776,6,{_prefixChildren:1}),s.Eb(603979776,7,{_suffixChildren:1}),(n()(),s.qb(16,0,null,1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Search for a book"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"keyup"],[null,"blur"],[null,"focus"],[null,"input"]],function(n,t,e){var o=!0,l=n.component;return"blur"===t&&(o=!1!==s.zb(n,17)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==s.zb(n,17)._focusChanged(!0)&&o),"input"===t&&(o=!1!==s.zb(n,17)._onInput()&&o),"keyup"===t&&(o=!1!==l.search.emit(e.target.value)&&o),o},null,null)),s.pb(17,999424,null,0,j.a,[s.k,v.a,[8,null],[2,x.m],[2,x.h],k.b,[8,null],B.a,s.z],{placeholder:[0,"placeholder"],value:[1,"value"]},null),s.Db(2048,[[1,4]],g.c,null,[j.a]),(n()(),s.qb(19,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"show",null],[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,M,P)),s.pb(20,49152,null,0,I.d,[s.k,v.a,[2,C.d],[2,y.a],I.a],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"]},null),(n()(),s.qb(21,0,null,1,3,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),s.pb(22,16384,null,0,m.d,[],null,null),(n()(),s.hb(16777216,null,null,1,null,F)),s.pb(24,16384,null,0,C.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,17,0,"Search for a book",e.query),n(t,20,0,30,3),n(t,24,0,e.error)},function(n,t){var e=t.component;n(t,7,1,["standard"==s.zb(t,8).appearance,"fill"==s.zb(t,8).appearance,"outline"==s.zb(t,8).appearance,"legacy"==s.zb(t,8).appearance,s.zb(t,8)._control.errorState,s.zb(t,8)._canLabelFloat,s.zb(t,8)._shouldLabelFloat(),s.zb(t,8)._hideControlPlaceholder(),s.zb(t,8)._control.disabled,s.zb(t,8)._control.autofilled,s.zb(t,8)._control.focused,"accent"==s.zb(t,8).color,"warn"==s.zb(t,8).color,s.zb(t,8)._shouldForward("untouched"),s.zb(t,8)._shouldForward("touched"),s.zb(t,8)._shouldForward("pristine"),s.zb(t,8)._shouldForward("dirty"),s.zb(t,8)._shouldForward("valid"),s.zb(t,8)._shouldForward("invalid"),s.zb(t,8)._shouldForward("pending"),!s.zb(t,8)._animationsEnabled]),n(t,16,0,s.zb(t,17)._isServer,s.zb(t,17).id,s.zb(t,17).placeholder,s.zb(t,17).disabled,s.zb(t,17).required,s.zb(t,17).readonly&&!s.zb(t,17)._isNativeSelect||null,s.zb(t,17)._ariaDescribedby||null,s.zb(t,17).errorState,s.zb(t,17).required.toString()),n(t,19,0,e.searching,s.zb(t,20)._noopAnimations,s.zb(t,20).diameter,s.zb(t,20).diameter)})}var $=function(){function n(){}return n.prototype.transform=function(n,t){void 0===t&&(t=250);var e=n.replace(/(<([^>]+)>)/gi,"");return n.length>=t?e.slice(0,t)+"...":e},n}(),N=e("ZYCi"),E=function(){function n(){}return n.prototype.transform=function(n){if(!n)return"Author Unknown";switch(n.length){case 0:return"Author Unknown";case 1:return n[0];case 2:return n.join(" and ");default:var t=n[n.length-1];return n.slice(0,-1).join(", ")+", and "+t}},n}(),L=e("0/Q6"),T=function(){function n(){}return Object.defineProperty(n.prototype,"authors",{get:function(){return this.book.volumeInfo.authors},enumerable:!0,configurable:!0}),n}(),G=s.ob({encapsulation:0,styles:["h5[_ngcontent-%COMP%] {\n        margin-bottom: 5px;\n      }"],data:{}});function H(n){return s.Ib(0,[s.Bb(0,E,[]),(n()(),s.qb(1,0,null,null,2,"h5",[["class","mat-subheader"],["mat-subheader",""]],null,null,null,null,null)),s.pb(2,16384,null,0,L.f,[],null,null),(n()(),s.Gb(-1,null,["Written By:"])),(n()(),s.qb(4,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),s.Gb(5,null,[" "," "])),s.Cb(6,1)],null,function(n,t){var e=t.component,o=s.Hb(t,5,0,n(t,6,0,s.zb(t,0),e.authors));n(t,5,0,o)})}var X=function(){function n(){}return Object.defineProperty(n.prototype,"id",{get:function(){return this.book.id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.book.volumeInfo.title},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitle",{get:function(){return this.book.volumeInfo.subtitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"description",{get:function(){return this.book.volumeInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnail",{get:function(){return!!this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")},enumerable:!0,configurable:!0}),n}(),D=s.ob({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: flex;\n      }\n\n      [_nghost-%COMP%]   a[_ngcontent-%COMP%] {\n        display: flex;\n      }\n\n      mat-card[_ngcontent-%COMP%] {\n        width: 400px;\n        margin: 15px;\n        display: flex;\n        flex-flow: column;\n        justify-content: space-between;\n      }\n\n      @media only screen and (max-width: 768px) {\n        mat-card[_ngcontent-%COMP%] {\n          margin: 15px 0 !important;\n        }\n      }\n      mat-card[_ngcontent-%COMP%]:hover {\n        box-shadow: 3px 3px 16px -2px rgba(0, 0, 0, 0.5);\n      }\n      mat-card-title[_ngcontent-%COMP%] {\n        margin-right: 10px;\n      }\n      mat-card-title-group[_ngcontent-%COMP%] {\n        margin: 0;\n      }\n      a[_ngcontent-%COMP%] {\n        color: inherit;\n        text-decoration: none;\n      }\n      img[_ngcontent-%COMP%] {\n        width: 60px;\n        min-width: 60px;\n        margin-left: 5px;\n      }\n      mat-card-content[_ngcontent-%COMP%] {\n        margin-top: 15px;\n        margin: 15px 0 0;\n      }\n      span[_ngcontent-%COMP%] {\n        display: inline-block;\n        font-size: 13px;\n      }\n      mat-card-footer[_ngcontent-%COMP%] {\n        padding: 0 25px 25px;\n      }"],data:{}});function W(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"img",[["class","mat-card-sm-image"],["mat-card-sm-image",""]],[[8,"src",4]],null,null,null,null)),s.pb(1,16384,null,0,m.g,[],null,null)],null,function(n,t){n(t,0,0,t.component.thumbnail)})}function Y(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,3,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),s.pb(1,16384,null,0,m.h,[],null,null),(n()(),s.Gb(2,null,["",""])),s.Cb(3,2)],null,function(n,t){var e=t.component,o=s.Hb(t,2,0,n(t,3,0,s.zb(t.parent,0),e.subtitle,40));n(t,2,0,o)})}function R(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),s.Gb(1,null,["",""])),s.Cb(2,1)],null,function(n,t){var e=t.component,o=s.Hb(t,1,0,n(t,2,0,s.zb(t.parent,0),e.description));n(t,1,0,o)})}function Z(n){return s.Ib(0,[s.Bb(0,$,[]),(n()(),s.qb(1,0,null,null,22,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==s.zb(n,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&o),o},null,null)),s.pb(2,671744,null,0,N.q,[N.o,N.a,C.h],{routerLink:[0,"routerLink"]},null),s.Ab(3,2),(n()(),s.qb(4,0,null,null,19,"mat-card",[["class","mat-card"]],null,null,null,f.d,f.a)),s.pb(5,49152,null,0,m.a,[],null,null),(n()(),s.qb(6,0,null,0,9,"mat-card-title-group",[["class","mat-card-title-group"]],null,null,null,f.c,f.b)),s.pb(7,49152,null,0,m.j,[],null,null),(n()(),s.hb(16777216,null,1,1,null,W)),s.pb(9,16384,null,0,C.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.qb(10,0,null,0,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.pb(11,16384,null,0,m.i,[],null,null),(n()(),s.Gb(12,null,["",""])),s.Cb(13,2),(n()(),s.hb(16777216,null,0,1,null,Y)),s.pb(15,16384,null,0,C.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.qb(16,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s.pb(17,16384,null,0,m.c,[],null,null),(n()(),s.hb(16777216,null,null,1,null,R)),s.pb(19,16384,null,0,C.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.qb(20,0,null,1,3,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),s.pb(21,16384,null,0,m.d,[],null,null),(n()(),s.qb(22,0,null,null,1,"bc-book-authors",[],null,null,null,H,G)),s.pb(23,49152,null,0,T,[],{book:[0,"book"]},null)],function(n,t){var e=t.component,o=n(t,3,0,"/books",e.id);n(t,2,0,o),n(t,9,0,e.thumbnail),n(t,15,0,e.subtitle),n(t,19,0,e.description),n(t,23,0,e.book)},function(n,t){var e=t.component;n(t,1,0,s.zb(t,2).target,s.zb(t,2).href);var o=s.Hb(t,12,0,n(t,13,0,s.zb(t,0),e.title,35));n(t,12,0,o)})}var J=function(){return function(){}}(),Q=s.ob({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: center;\n      }"],data:{}});function K(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"bc-book-preview",[],null,null,null,Z,D)),s.pb(1,49152,null,0,X,[],{book:[0,"book"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function U(n){return s.Ib(0,[(n()(),s.hb(16777216,null,null,1,null,K)),s.pb(1,278528,null,0,C.i,[s.P,s.M,s.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,1,0,t.component.books)},null)}var V=e("bUQ0"),nn=e("t9fZ"),tn=e("wvrL"),en=e("/2dQ"),on=Object(en.a)("[Book Exists Guard] Load Book",Object(en.b)()),ln=Object(en.a)("[Books/API] Search Success",Object(en.b)()),rn=Object(en.a)("[Books/API] Search Failure",Object(en.b)()),un=(Object(en.c)({searchSuccess:ln,searchFailure:rn}),Object(en.a)("[Collection/API] Add Book Success",Object(en.b)())),an=Object(en.a)("[Collection/API] Add Book Failure",Object(en.b)()),cn=Object(en.a)("[Collection/API] Remove Book Success",Object(en.b)()),sn=Object(en.a)("[Collection/API] Remove Book Failure",Object(en.b)()),bn=Object(en.a)("[Collection/API] Load Books Success",Object(en.b)()),dn=Object(en.a)("[Collection/API] Load Books Failure",Object(en.b)()),pn=(Object(en.c)({addBookSuccess:un,addBookFailure:an,removeBookSuccess:cn,removeBookFailure:sn,loadBooksSuccess:bn,loadBooksFailure:dn}),Object(en.a)("[Collection Page] Load Collection")),fn=Object(en.a)("[Find Book Page] Search Books",Object(en.b)()),mn=Object(en.a)("[Selected Book Page] Add Book",Object(en.b)()),hn=Object(en.a)("[Selected Book Page] Remove Book",Object(en.b)()),gn=(Object(en.c)({addBook:mn,removeBook:hn}),Object(en.a)("[View Book Page] Select Book",Object(en.b)())),kn=function(){return(kn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)},On={ids:[],loading:!1,error:"",query:""};function vn(n,t){switch(void 0===n&&(n=On),t.type){case u.searchBooks.type:var e=t.query;return""===e?{ids:[],loading:!1,error:"",query:e}:kn({},n,{loading:!0,error:"",query:e});case l.searchSuccess.type:return{ids:t.books.map(function(n){return n.id}),loading:!1,error:"",query:n.query};case l.searchFailure.type:return kn({},n,{loading:!1,error:t.errorMsg});default:return n}}var yn=function(){return(yn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)},jn=function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n}({});function xn(n){return function(t,e){var o={ids:e.ids.slice(),entities:yn({},e.entities)},l=n(t,o);return l===jn.Both?Object.assign({},e,o):l===jn.EntitiesOnly?yn({},e,{entities:o.entities}):e}}function Bn(n,t){var e=t(n);return Object(s.Y)()&&void 0===e&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",t.toString()),e}function In(n){function t(t,e){var o=Bn(t,n);return o in e.entities?jn.None:(e.ids.push(o),e.entities[o]=t,jn.Both)}function e(n,e){for(var o=!1,l=0,r=n;l<r.length;l++)o=t(r[l],e)!==jn.None||o;return o?jn.Both:jn.None}function o(n,t){var e=(n instanceof Array?n:t.ids.filter(function(e){return n(t.entities[e])})).filter(function(n){return n in t.entities}).map(function(n){return delete t.entities[n]}).length>0;return e&&(t.ids=t.ids.filter(function(n){return n in t.entities})),e?jn.Both:jn.None}function l(t,e){var o={};return(t=t.filter(function(n){return n.id in e.entities})).length>0?t.filter(function(t){return function(t,e,o){var l=Object.assign({},o.entities[e.id],e.changes),r=Bn(l,n),i=r!==e.id;return i&&(t[e.id]=r,delete o.entities[e.id]),o.entities[r]=l,i}(o,t,e)}).length>0?(e.ids=e.ids.map(function(n){return o[n]||n}),jn.Both):jn.EntitiesOnly:jn.None}function r(t,o){for(var r=[],i=[],u=0,a=t;u<a.length;u++){var c=a[u],s=Bn(c,n);s in o.entities?i.push({id:s,changes:c}):r.push(c)}var b=l(i,o),d=e(r,o);switch(!0){case d===jn.None&&b===jn.None:return jn.None;case d===jn.Both||b===jn.Both:return jn.Both;default:return jn.EntitiesOnly}}return{removeAll:function(n){return Object.assign({},n,{ids:[],entities:{}})},addOne:xn(t),addMany:xn(e),addAll:xn(function(n,t){return t.ids=[],t.entities={},e(n,t),jn.Both}),updateOne:xn(function(n,t){return l([n],t)}),updateMany:xn(l),upsertOne:xn(function(n,t){return r([n],t)}),upsertMany:xn(r),removeOne:xn(function(n,t){return o([n],t)}),removeMany:xn(o),map:xn(function(n,t){return l(t.ids.reduce(function(e,o){var l=n(t.entities[o]);return l!==t.entities[o]&&e.push({id:o,changes:l}),e},[]).filter(function(n){return n.id in t.entities}),t)})}}var Cn=function(){return(Cn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)},_n=function(){return(_n=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)},Pn=function(n){void 0===n&&(n={});var t=Cn({sortComparer:!1,selectId:function(n){return n.id}},n),e=t.selectId,o=t.sortComparer,l={getInitialState:function(n){return void 0===n&&(n={}),Object.assign({ids:[],entities:{}},n)}},r={getSelectors:function(n){var t=function(n){return n.ids},e=function(n){return n.entities},o=Object(tn.b)(t,e,function(n,t){return n.map(function(n){return t[n]})}),l=Object(tn.b)(t,function(n){return n.length});return n?{selectIds:Object(tn.b)(n,t),selectEntities:Object(tn.b)(n,e),selectAll:Object(tn.b)(n,o),selectTotal:Object(tn.b)(n,l)}:{selectIds:t,selectEntities:e,selectAll:o,selectTotal:l}}},i=o?function(n,t){var e=In(n);function o(t,e){var o=t.filter(function(t){return!(Bn(t,n)in e.entities)});return 0===o.length?jn.None:(i(o,e),jn.Both)}function l(t,e){var o=[],l=t.filter(function(t){return function(t,e,o){if(!(e.id in o.entities))return!1;var l=Object.assign({},o.entities[e.id],e.changes),r=Bn(l,n);return delete o.entities[e.id],t.push(l),r!==e.id}(o,t,e)}).length>0;if(0===o.length)return jn.None;var r=e.ids,u=[];return e.ids=e.ids.filter(function(n,t){return n in e.entities||(u.push(t),!1)}),i(o,e),!l&&u.every(function(n){return e.ids[n]===r[n]})?jn.EntitiesOnly:jn.Both}function r(t,e){for(var r=[],i=[],u=0,a=t;u<a.length;u++){var c=a[u],s=Bn(c,n);s in e.entities?i.push({id:s,changes:c}):r.push(c)}var b=l(i,e),d=o(r,e);switch(!0){case d===jn.None&&b===jn.None:return jn.None;case d===jn.Both||b===jn.Both:return jn.Both;default:return jn.EntitiesOnly}}function i(e,o){e.sort(t);for(var l=[],r=0,i=0;r<e.length&&i<o.ids.length;){var u=e[r],a=Bn(u,n),c=o.ids[i];t(u,o.entities[c])<=0?(l.push(a),r++):(l.push(c),i++)}o.ids=l.concat(r<e.length?e.slice(r).map(n):o.ids.slice(i)),e.forEach(function(t,e){o.entities[n(t)]=t})}return{removeOne:e.removeOne,removeMany:e.removeMany,removeAll:e.removeAll,addOne:xn(function(n,t){return o([n],t)}),updateOne:xn(function(n,t){return l([n],t)}),upsertOne:xn(function(n,t){return r([n],t)}),addAll:xn(function(n,t){return t.entities={},t.ids=[],o(n,t),jn.Both}),addMany:xn(o),updateMany:xn(l),upsertMany:xn(r),map:xn(function(n,t){return l(t.ids.reduce(function(e,o){var l=n(t.entities[o]);return l!==t.entities[o]&&e.push({id:o,changes:l}),e},[]),t)})}}(e,o):In(e);return Cn({selectId:e,sortComparer:o},l,r,i)}({selectId:function(n){return n.id},sortComparer:!1}),wn=Pn.getInitialState({selectedBookId:null});function qn(n,t){switch(void 0===n&&(n=wn),t.type){case l.searchSuccess.type:case r.loadBooksSuccess.type:return Pn.addMany(t.books,n);case o.loadBook.type:return Pn.addOne(t.book,n);case c.selectBook.type:return _n({},n,{selectedBookId:t.id});default:return n}}var Mn=function(){return(Mn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)},zn={loaded:!1,loading:!1,ids:[]};function Sn(n,t){switch(void 0===n&&(n=zn),t.type){case i.loadCollection.type:return Mn({},n,{loading:!0});case r.loadBooksSuccess.type:return{loaded:!0,loading:!1,ids:t.books.map(function(n){return n.id})};case r.addBookSuccess.type:case r.removeBookFailure.type:return n.ids.indexOf(t.book.id)>-1?n:Mn({},n,{ids:n.ids.concat([t.book.id])});case r.removeBookSuccess.type:case r.addBookFailure.type:return Mn({},n,{ids:n.ids.filter(function(n){return n!==t.book.id})});default:return n}}var Fn=Object(tn.a)("books"),An=Object(tn.b)(Fn,function(n){return n.books}),$n=Object(tn.b)(An,function(n){return n.selectedBookId}),Nn=Pn.getSelectors(An).selectEntities,En=Object(tn.b)(Nn,$n,function(n,t){return t&&n[t]}),Ln=Object(tn.b)(Fn,function(n){return n.search}),Tn=Object(tn.b)(Ln,function(n){return n.ids}),Gn=Object(tn.b)(Ln,function(n){return n.query}),Hn=Object(tn.b)(Ln,function(n){return n.loading}),Xn=Object(tn.b)(Ln,function(n){return n.error}),Dn=Object(tn.b)(Nn,Tn,function(n,t){return t.map(function(t){return n[t]})}),Wn=Object(tn.b)(Fn,function(n){return n.collection}),Yn=Object(tn.b)(Wn,function(n){return n.loaded}),Rn=(Object(tn.b)(Wn,function(n){return n.loading}),Object(tn.b)(Wn,function(n){return n.ids})),Zn=Object(tn.b)(Nn,Rn,function(n,t){return t.map(function(t){return n[t]})}),Jn=Object(tn.b)(Rn,$n,function(n,t){return!!t&&n.indexOf(t)>-1}),Qn=function(){function n(n){this.store=n,this.searchQuery$=n.pipe(Object(V.c)(Gn),Object(nn.a)(1)),this.books$=n.pipe(Object(V.c)(Dn)),this.loading$=n.pipe(Object(V.c)(Hn)),this.error$=n.pipe(Object(V.c)(Xn))}return n.prototype.search=function(n){this.store.dispatch(u.searchBooks({query:n}))},n}(),Kn=s.ob({encapsulation:2,styles:[],data:{}});function Un(n){return s.Ib(2,[(n()(),s.qb(0,0,null,null,4,"bc-book-search",[],null,[[null,"search"]],function(n,t,e){var o=!0;return"search"===t&&(o=!1!==n.component.search(e)&&o),o},A,S)),s.pb(1,49152,null,0,z,[],{query:[0,"query"],searching:[1,"searching"],error:[2,"error"]},{search:"search"}),s.Bb(131072,C.b,[s.h]),s.Bb(131072,C.b,[s.h]),s.Bb(131072,C.b,[s.h]),(n()(),s.qb(5,0,null,null,2,"bc-book-preview-list",[],null,null,null,U,Q)),s.pb(6,49152,null,0,J,[],{books:[0,"books"]},null),s.Bb(131072,C.b,[s.h])],function(n,t){var e=t.component;n(t,1,0,s.Hb(t,1,0,s.zb(t,2).transform(e.searchQuery$)),s.Hb(t,1,1,s.zb(t,3).transform(e.loading$)),s.Hb(t,1,2,s.zb(t,4).transform(e.error$))),n(t,6,0,s.Hb(t,6,0,s.zb(t,7).transform(e.books$)))},null)}function Vn(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"bc-find-book-page",[],null,null,null,Un,Kn)),s.pb(1,49152,null,0,Qn,[V.b],null,null)],null,null)}var nt=s.mb("bc-find-book-page",Qn,Vn,{},{},[]),tt=e("bujt"),et=e("UodH"),ot=e("lLAP"),lt=function(){function n(){this.add=new s.m,this.remove=new s.m}return Object.defineProperty(n.prototype,"id",{get:function(){return this.book.id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.book.volumeInfo.title},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitle",{get:function(){return this.book.volumeInfo.subtitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"description",{get:function(){return this.book.volumeInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnail",{get:function(){return this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")},enumerable:!0,configurable:!0}),n}(),rt=s.ob({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: flex;\n        justify-content: center;\n        margin: 75px 0;\n      }\n      mat-card[_ngcontent-%COMP%] {\n        max-width: 600px;\n      }\n      mat-card-title-group[_ngcontent-%COMP%] {\n        margin-left: 0;\n      }\n      img[_ngcontent-%COMP%] {\n        width: 60px;\n        min-width: 60px;\n        margin-left: 5px;\n      }\n      mat-card-content[_ngcontent-%COMP%] {\n        margin: 15px 0 50px;\n      }\n      mat-card-actions[_ngcontent-%COMP%] {\n        margin: 25px 0 0 !important;\n      }\n      mat-card-footer[_ngcontent-%COMP%] {\n        padding: 0 25px 25px;\n        position: relative;\n      }"],data:{}});function it(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),s.pb(1,16384,null,0,m.h,[],null,null),(n()(),s.Gb(2,null,["",""]))],null,function(n,t){n(t,2,0,t.component.subtitle)})}function ut(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"img",[["class","mat-card-sm-image"],["mat-card-sm-image",""]],[[8,"src",4]],null,null,null,null)),s.pb(1,16384,null,0,m.g,[],null,null)],null,function(n,t){n(t,0,0,t.component.thumbnail)})}function at(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var o=!0,l=n.component;return"click"===t&&(o=!1!==l.remove.emit(l.book)&&o),o},tt.b,tt.a)),s.pb(1,180224,null,0,et.b,[s.k,v.a,ot.b,[2,y.a]],{color:[0,"color"]},null),(n()(),s.Gb(-1,0,[" Remove Book from Collection "]))],function(n,t){n(t,1,0,"warn")},function(n,t){n(t,0,0,s.zb(t,1).disabled||null,"NoopAnimations"===s.zb(t,1)._animationMode)})}function ct(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var o=!0,l=n.component;return"click"===t&&(o=!1!==l.add.emit(l.book)&&o),o},tt.b,tt.a)),s.pb(1,180224,null,0,et.b,[s.k,v.a,ot.b,[2,y.a]],{color:[0,"color"]},null),(n()(),s.Gb(-1,0,[" Add Book to Collection "]))],function(n,t){n(t,1,0,"primary")},function(n,t){n(t,0,0,s.zb(t,1).disabled||null,"NoopAnimations"===s.zb(t,1)._animationMode)})}function st(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,23,"mat-card",[["class","mat-card"]],null,null,null,f.d,f.a)),s.pb(1,49152,null,0,m.a,[],null,null),(n()(),s.qb(2,0,null,0,8,"mat-card-title-group",[["class","mat-card-title-group"]],null,null,null,f.c,f.b)),s.pb(3,49152,null,0,m.j,[],null,null),(n()(),s.qb(4,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.pb(5,16384,null,0,m.i,[],null,null),(n()(),s.Gb(6,null,["",""])),(n()(),s.hb(16777216,null,0,1,null,it)),s.pb(8,16384,null,0,C.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.hb(16777216,null,1,1,null,ut)),s.pb(10,16384,null,0,C.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.qb(11,0,null,0,2,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s.pb(12,16384,null,0,m.c,[],null,null),(n()(),s.qb(13,0,null,null,0,"p",[],[[8,"innerHTML",1]],null,null,null,null)),(n()(),s.qb(14,0,null,1,3,"mat-card-footer",[["class","footer mat-card-footer"]],null,null,null,null,null)),s.pb(15,16384,null,0,m.d,[],null,null),(n()(),s.qb(16,0,null,null,1,"bc-book-authors",[],null,null,null,H,G)),s.pb(17,49152,null,0,T,[],{book:[0,"book"]},null),(n()(),s.qb(18,0,null,0,5,"mat-card-actions",[["align","start"],["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),s.pb(19,16384,null,0,m.b,[],{align:[0,"align"]},null),(n()(),s.hb(16777216,null,null,1,null,at)),s.pb(21,16384,null,0,C.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.hb(16777216,null,null,1,null,ct)),s.pb(23,16384,null,0,C.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,8,0,e.subtitle),n(t,10,0,e.thumbnail),n(t,17,0,e.book),n(t,19,0,"start"),n(t,21,0,e.inCollection),n(t,23,0,!e.inCollection)},function(n,t){var e=t.component;n(t,6,0,e.title),n(t,13,0,e.description),n(t,18,0,"end"===s.zb(t,19).align)})}function bt(n){return s.Ib(0,[(n()(),s.hb(16777216,null,null,1,null,st)),s.pb(1,16384,null,0,C.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.book)},null)}var dt=function(){function n(n){this.store=n,this.book$=n.pipe(Object(V.c)(En)),this.isSelectedBookInCollection$=n.pipe(Object(V.c)(Jn))}return n.prototype.addToCollection=function(n){this.store.dispatch(a.addBook({book:n}))},n.prototype.removeFromCollection=function(n){this.store.dispatch(a.removeBook({book:n}))},n}(),pt=s.ob({encapsulation:2,styles:[],data:{}});function ft(n){return s.Ib(2,[(n()(),s.qb(0,0,null,null,3,"bc-book-detail",[],null,[[null,"add"],[null,"remove"]],function(n,t,e){var o=!0,l=n.component;return"add"===t&&(o=!1!==l.addToCollection(e)&&o),"remove"===t&&(o=!1!==l.removeFromCollection(e)&&o),o},bt,rt)),s.pb(1,49152,null,0,lt,[],{book:[0,"book"],inCollection:[1,"inCollection"]},{add:"add",remove:"remove"}),s.Bb(131072,C.b,[s.h]),s.Bb(131072,C.b,[s.h])],function(n,t){var e=t.component;n(t,1,0,s.Hb(t,1,0,s.zb(t,2).transform(e.book$)),s.Hb(t,1,1,s.zb(t,3).transform(e.isSelectedBookInCollection$)))},null)}var mt=e("67Y/"),ht=function(){function n(n,t){this.actionsSubscription=t.params.pipe(Object(mt.a)(function(n){return c.selectBook({id:n.id})})).subscribe(n)}return n.prototype.ngOnDestroy=function(){this.actionsSubscription.unsubscribe()},n}(),gt=s.ob({encapsulation:2,styles:[],data:{}});function kt(n){return s.Ib(2,[(n()(),s.qb(0,0,null,null,1,"bc-selected-book-page",[],null,null,null,ft,pt)),s.pb(1,49152,null,0,dt,[V.b],null,null)],null,null)}function Ot(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"bc-view-book-page",[],null,null,null,kt,gt)),s.pb(1,180224,null,0,ht,[V.b,N.a],null,null)],null,null)}var vt=s.mb("bc-view-book-page",ht,Ot,{},{},[]),yt=function(){function n(n){this.store=n,this.books$=n.pipe(Object(V.c)(Zn))}return n.prototype.ngOnInit=function(){this.store.dispatch(i.loadCollection())},n}(),jt=s.ob({encapsulation:0,styles:["mat-card-title[_ngcontent-%COMP%] {\n        display: flex;\n        justify-content: center;\n      }"],data:{}});function xt(n){return s.Ib(2,[(n()(),s.qb(0,0,null,null,4,"mat-card",[["class","mat-card"]],null,null,null,f.d,f.a)),s.pb(1,49152,null,0,m.a,[],null,null),(n()(),s.qb(2,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.pb(3,16384,null,0,m.i,[],null,null),(n()(),s.Gb(-1,null,["My Collection"])),(n()(),s.qb(5,0,null,null,2,"bc-book-preview-list",[],null,null,null,U,Q)),s.pb(6,49152,null,0,J,[],{books:[0,"books"]},null),s.Bb(131072,C.b,[s.h])],function(n,t){var e=t.component;n(t,6,0,s.Hb(t,6,0,s.zb(t,7).transform(e.books$)))},null)}function Bt(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"bc-collection-page",[],null,null,null,xt,jt)),s.pb(1,114688,null,0,yt,[V.b],null,null)],function(n,t){n(t,1,0)},null)}var It=s.mb("bc-collection-page",yt,Bt,{},{},[]),Ct=e("M2Lx"),_t=e("eDkP"),Pt=e("o3x0"),wt=e("qAlS"),qt=e("Nsh5"),Mt=e("LC5p"),zt=e("SMsm"),St=e("8mMr"),Ft=e("4c35"),At=e("U8Sl"),$t=function(){return function(){}}(),Nt=function(){return function(){}}(),Et=e("F/XL"),Lt=e("VnD/"),Tt=e("xMyE"),Gt=e("9Z1F"),Ht=e("15JJ"),Xt=e("t/Na"),Dt=function(){function n(n){this.http=n,this.API_PATH="https://www.googleapis.com/books/v1/volumes"}return n.prototype.searchBooks=function(n){return this.http.get(this.API_PATH+"?q="+n).pipe(Object(mt.a)(function(n){return n.items||[]}))},n.prototype.retrieveBook=function(n){return this.http.get(this.API_PATH+"/"+n)},n.ngInjectableDef=s.T({factory:function(){return new n(s.X(Xt.c))},token:n,providedIn:"root"}),n}(),Wt=function(){function n(n,t,e){this.store=n,this.googleBooks=t,this.router=e}return n.prototype.waitForCollectionToLoad=function(){return this.store.pipe(Object(V.c)(Yn),Object(Lt.a)(function(n){return n}),Object(nn.a)(1))},n.prototype.hasBookInStore=function(n){return this.store.pipe(Object(V.c)(Nn),Object(mt.a)(function(t){return!!t[n]}),Object(nn.a)(1))},n.prototype.hasBookInApi=function(n){var t=this;return this.googleBooks.retrieveBook(n).pipe(Object(mt.a)(function(n){return o.loadBook({book:n})}),Object(Tt.a)(function(n){return t.store.dispatch(n)}),Object(mt.a)(function(n){return!!n}),Object(Gt.a)(function(){return t.router.navigate(["/404"]),Object(Et.a)(!1)}))},n.prototype.hasBook=function(n){var t=this;return this.hasBookInStore(n).pipe(Object(Ht.a)(function(e){return e?Object(Et.a)(e):t.hasBookInApi(n)}))},n.prototype.canActivate=function(n){var t=this;return this.waitForCollectionToLoad().pipe(Object(Ht.a)(function(){return t.hasBook(n.params.id)}))},n.ngInjectableDef=s.T({factory:function(){return new n(s.X(V.b),s.X(Dt),s.X(N.o))},token:n,providedIn:"root"}),n}(),Yt=function(){return function(){}}(),Rt=e("KoCW"),Zt=e("kNOE"),Jt=e("eeLN"),Qt=e("PXu1"),Kt=e("mrSG"),Ut=e("fuZ8"),Vt=e("dh7u"),ne=e("T1DM"),te=e("G5J1"),ee=e("Gi3i"),oe=e("0mNj"),le=e("ny24"),re=function(){function n(n,t){var e=this;this.actions$=n,this.googleBooks=t,this.search$=function(n){var t=void 0===n?{}:n,o=t.debounce,r=void 0===o?300:o,i=t.scheduler,a=void 0===i?ne.a:i;return e.actions$.pipe(Object(Ut.b)(u.searchBooks.type),Object(ee.a)(r,a),Object(Ht.a)(function(n){var t=n.query;if(""===t)return te.a;var o=e.actions$.pipe(Object(Ut.b)(u.searchBooks.type),Object(oe.a)(1));return e.googleBooks.searchBooks(t).pipe(Object(le.a)(o),Object(mt.a)(function(n){return l.searchSuccess({books:n})}),Object(Gt.a)(function(n){return Object(Et.a)(l.searchFailure({errorMsg:n}))}))}))}}return Object(Kt.b)([Object(Vt.a)(),Object(Kt.d)("design:type",Object)],n.prototype,"search$",void 0),n}(),ie=e("lYZG"),ue=e("6blF"),ae=e("Qgas");function ce(n,t,e){return 0===e?[t]:(n.push(t),n)}var se=e("psW0"),be=function(){function n(n,t){var e=this;this.actions$=n,this.db=t,this.openDB$=Object(ie.a)(function(){return e.db.open("books_app")}),this.loadCollection$=this.actions$.pipe(Object(Ut.b)(i.loadCollection.type),Object(Ht.a)(function(){return e.db.query("books").pipe(Object(ae.a)(ce,[]),Object(mt.a)(function(n){return r.loadBooksSuccess({books:n})}),Object(Gt.a)(function(n){return Object(Et.a)(r.loadBooksFailure({error:n}))}))})),this.addBookToCollection$=this.actions$.pipe(Object(Ut.b)(a.addBook.type),Object(se.a)(function(n){var t=n.book;return e.db.insert("books",[t]).pipe(Object(mt.a)(function(){return r.addBookSuccess({book:t})}),Object(Gt.a)(function(){return Object(Et.a)(r.addBookFailure({book:t}))}))})),this.removeBookFromCollection$=this.actions$.pipe(Object(Ut.b)(a.removeBook.type),Object(se.a)(function(n){var t=n.book;return e.db.executeWrite("books","delete",[t.id]).pipe(Object(mt.a)(function(){return r.removeBookSuccess({book:t})}),Object(Gt.a)(function(){return Object(Et.a)(r.removeBookFailure({book:t}))}))}))}return Object(Kt.b)([Object(Vt.a)({dispatch:!1}),Object(Kt.d)("design:type",ue.a)],n.prototype,"openDB$",void 0),Object(Kt.b)([Object(Vt.a)(),Object(Kt.d)("design:type",ue.a)],n.prototype,"loadCollection$",void 0),Object(Kt.b)([Object(Vt.a)(),Object(Kt.d)("design:type",ue.a)],n.prototype,"addBookToCollection$",void 0),Object(Kt.b)([Object(Vt.a)(),Object(Kt.d)("design:type",ue.a)],n.prototype,"removeBookFromCollection$",void 0),n}(),de=e("nNXz"),pe=e("D9r6"),fe=e("IvYz"),me=e("DB2k"),he=e("6hZr");e.d(t,"BooksModuleNgFactory",function(){return ge});var ge=s.nb(b,[],function(n){return s.wb([s.xb(512,s.j,s.cb,[[8,[d.a,p.a,nt,vt,It]],[3,s.j],s.x]),s.xb(4608,C.l,C.k,[s.u,[2,C.u]]),s.xb(4608,Ct.c,Ct.c,[]),s.xb(4608,k.b,k.b,[]),s.xb(4608,_t.a,_t.a,[_t.g,_t.c,s.j,_t.f,_t.d,s.q,s.z,C.d,O.b,[2,C.g]]),s.xb(5120,_t.h,_t.i,[_t.a]),s.xb(5120,Pt.b,Pt.c,[_t.a]),s.xb(135680,Pt.d,Pt.d,[_t.a,s.q,[2,C.g],[2,Pt.a],Pt.b,[3,Pt.d],_t.c]),s.xb(4608,x.d,x.d,[]),s.xb(4608,x.q,x.q,[]),s.xb(1073742336,C.c,C.c,[]),s.xb(1073742336,v.b,v.b,[]),s.xb(1073742336,B.c,B.c,[]),s.xb(1073742336,Ct.d,Ct.d,[]),s.xb(1073742336,g.d,g.d,[]),s.xb(1073742336,j.b,j.b,[]),s.xb(1073742336,O.a,O.a,[]),s.xb(1073742336,k.j,k.j,[[2,k.c],[2,_.g]]),s.xb(1073742336,m.f,m.f,[]),s.xb(1073742336,k.t,k.t,[]),s.xb(1073742336,et.c,et.c,[]),s.xb(1073742336,wt.c,wt.c,[]),s.xb(1073742336,qt.h,qt.h,[]),s.xb(1073742336,k.l,k.l,[]),s.xb(1073742336,k.r,k.r,[]),s.xb(1073742336,Mt.a,Mt.a,[]),s.xb(1073742336,L.d,L.d,[]),s.xb(1073742336,zt.c,zt.c,[]),s.xb(1073742336,St.b,St.b,[]),s.xb(1073742336,I.c,I.c,[]),s.xb(1073742336,Ft.f,Ft.f,[]),s.xb(1073742336,_t.e,_t.e,[]),s.xb(1073742336,Pt.j,Pt.j,[]),s.xb(1073742336,At.a,At.a,[]),s.xb(1073742336,x.o,x.o,[]),s.xb(1073742336,x.n,x.n,[]),s.xb(1073742336,N.r,N.r,[[2,N.y],[2,N.o]]),s.xb(1073742336,$t,$t,[]),s.xb(1073742336,Nt,Nt,[]),s.xb(1073742336,Yt,Yt,[]),s.xb(1024,Rt.g,function(){return[{}]},[]),s.xb(1024,Rt.f,function(){return[{key:"books",reducerFactory:Zt.a,metaReducers:[],initialState:void 0}]},[]),s.xb(1024,Rt.m,Jt.d,[s.q,Rt.g,Rt.f]),s.xb(1024,Rt.h,function(){return[{search:vn,books:qn,collection:Sn}]},[]),s.xb(1024,Rt.i,function(n){return[n]},[Rt.h]),s.xb(1024,Rt.a,function(n,t,e){return[Jt.c(n,t,e)]},[s.q,Rt.h,Rt.i]),s.xb(1073873408,Jt.a,Jt.a,[Rt.m,Rt.a,Qt.b,Jt.b]),s.xb(512,re,re,[Ut.a,Dt]),s.xb(512,be,be,[Ut.a,de.b]),s.xb(1024,pe.a,function(n,t){return[fe.a(n,t)]},[re,be]),s.xb(1073742336,me.a,me.a,[he.a,pe.a,[2,Jt.b],[2,Jt.a]]),s.xb(1073742336,b,b,[]),s.xb(1024,N.m,function(){return[[{path:"find",component:Qn},{path:":id",component:ht,canActivate:[Wt]},{path:"",component:yt}]]},[])])})}}]);