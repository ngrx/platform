(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{xV2a:function(n,t,e){"use strict";e.r(t);var o={};e.r(o),e.d(o,"BookActionTypes",function(){return U}),e.d(o,"LoadBook",function(){return on});var l={};e.r(l),e.d(l,"BooksApiActionTypes",function(){return en}),e.d(l,"SearchSuccess",function(){return rn}),e.d(l,"SearchFailure",function(){return un});var r={};e.r(r),e.d(r,"CollectionApiActionTypes",function(){return ln}),e.d(r,"AddBookSuccess",function(){return cn}),e.d(r,"AddBookFailure",function(){return sn}),e.d(r,"RemoveBookSuccess",function(){return bn}),e.d(r,"RemoveBookFailure",function(){return dn}),e.d(r,"LoadBooksSuccess",function(){return pn}),e.d(r,"LoadBooksFailure",function(){return fn});var i={};e.r(i),e.d(i,"CollectionPageActionTypes",function(){return an}),e.d(i,"LoadCollection",function(){return hn});var u={};e.r(u),e.d(u,"FindBookPageActionTypes",function(){return mn}),e.d(u,"SearchBooks",function(){return kn});var a={};e.r(a),e.d(a,"SelectedBookPageActionTypes",function(){return gn}),e.d(a,"AddBook",function(){return vn}),e.d(a,"RemoveBook",function(){return On});var c={};e.r(c),e.d(c,"ViewBookPageActionTypes",function(){return yn}),e.d(c,"SelectBook",function(){return Bn});var s=e("CcnG"),b=function(){return function(){}}(),d=e("t68o"),p=e("pMnS"),f=e("lzlj"),m=e("FVSy"),h=e("dJrM"),g=e("seP3"),k=e("Wf4p"),y=e("Fzqc"),v=e("dWZg"),O=e("wFw1"),B=e("b716"),j=e("gIcY"),x=e("/VYK"),C=e("Blfk"),w=e("Ip0R"),I=e("ZYjt"),P=s.ob({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function S(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,0,0,e._circleRadius,"mat-progress-spinner-stroke-rotate-"+e.diameter,e._strokeDashOffset,e._strokeCircumference,e._circleStrokeWidth)})}function A(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,0,0,e._circleRadius,e._strokeDashOffset,e._strokeCircumference,e._circleStrokeWidth)})}function _(n){return s.Ib(2,[(n()(),s.qb(0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),s.pb(1,16384,null,0,w.m,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),s.hb(16777216,null,null,1,null,S)),s.pb(3,278528,null,0,w.n,[s.P,s.M,w.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),s.hb(16777216,null,null,1,null,A)),s.pb(5,278528,null,0,w.n,[s.P,s.M,w.m],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(n,t){n(t,1,0,"indeterminate"===t.component.mode),n(t,3,0,!0),n(t,5,0,!1)},function(n,t){var e=t.component;n(t,0,0,e.diameter,e.diameter,e._viewBox)})}var q=function(){return function(){this.query="",this.searching=!1,this.error="",this.search=new s.m}}(),M=s.ob({encapsulation:0,styles:["mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%] {\n        display: flex;\n        justify-content: center;\n      }\n\n      mat-card-footer[_ngcontent-%COMP%] {\n        color: #ff0000;\n        padding: 5px 0;\n      }\n\n      .mat-form-field[_ngcontent-%COMP%] {\n        min-width: 300px;\n        margin-right: 10px; // Make room for the spinner\n      }\n\n      .mat-spinner[_ngcontent-%COMP%] {\n        position: relative;\n        top: 10px;\n        left: 10px;\n        visibility: hidden;\n      }\n\n      .mat-spinner.show[_ngcontent-%COMP%] {\n        visibility: visible;\n      }"],data:{}});function z(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),s.Gb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.error)})}function F(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,24,"mat-card",[["class","mat-card"]],null,null,null,f.d,f.a)),s.pb(1,49152,null,0,m.a,[],null,null),(n()(),s.qb(2,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.pb(3,16384,null,0,m.i,[],null,null),(n()(),s.Gb(-1,null,["Find a Book"])),(n()(),s.qb(5,0,null,0,15,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s.pb(6,16384,null,0,m.c,[],null,null),(n()(),s.qb(7,0,null,null,11,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,h.b,h.a)),s.pb(8,7389184,null,7,g.b,[s.k,s.h,[2,k.f],[2,y.b],[2,g.a],v.a,s.z,[2,O.a]],null,null),s.Eb(335544320,1,{_control:0}),s.Eb(335544320,2,{_placeholderChild:0}),s.Eb(335544320,3,{_labelChild:0}),s.Eb(603979776,4,{_errorChildren:1}),s.Eb(603979776,5,{_hintChildren:1}),s.Eb(603979776,6,{_prefixChildren:1}),s.Eb(603979776,7,{_suffixChildren:1}),(n()(),s.qb(16,0,null,1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Search for a book"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"keyup"],[null,"blur"],[null,"focus"],[null,"input"]],function(n,t,e){var o=!0,l=n.component;return"blur"===t&&(o=!1!==s.zb(n,17)._focusChanged(!1)&&o),"focus"===t&&(o=!1!==s.zb(n,17)._focusChanged(!0)&&o),"input"===t&&(o=!1!==s.zb(n,17)._onInput()&&o),"keyup"===t&&(o=!1!==l.search.emit(e.target.value)&&o),o},null,null)),s.pb(17,999424,null,0,B.a,[s.k,v.a,[8,null],[2,j.m],[2,j.h],k.b,[8,null],x.a,s.z],{placeholder:[0,"placeholder"],value:[1,"value"]},null),s.Db(2048,[[1,4]],g.c,null,[B.a]),(n()(),s.qb(19,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"show",null],[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,_,P)),s.pb(20,49152,null,0,C.d,[s.k,v.a,[2,w.d],[2,O.a],C.a],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"]},null),(n()(),s.qb(21,0,null,1,3,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),s.pb(22,16384,null,0,m.d,[],null,null),(n()(),s.hb(16777216,null,null,1,null,z)),s.pb(24,16384,null,0,w.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,17,0,"Search for a book",e.query),n(t,20,0,30,3),n(t,24,0,e.error)},function(n,t){var e=t.component;n(t,7,1,["standard"==s.zb(t,8).appearance,"fill"==s.zb(t,8).appearance,"outline"==s.zb(t,8).appearance,"legacy"==s.zb(t,8).appearance,s.zb(t,8)._control.errorState,s.zb(t,8)._canLabelFloat,s.zb(t,8)._shouldLabelFloat(),s.zb(t,8)._hideControlPlaceholder(),s.zb(t,8)._control.disabled,s.zb(t,8)._control.autofilled,s.zb(t,8)._control.focused,"accent"==s.zb(t,8).color,"warn"==s.zb(t,8).color,s.zb(t,8)._shouldForward("untouched"),s.zb(t,8)._shouldForward("touched"),s.zb(t,8)._shouldForward("pristine"),s.zb(t,8)._shouldForward("dirty"),s.zb(t,8)._shouldForward("valid"),s.zb(t,8)._shouldForward("invalid"),s.zb(t,8)._shouldForward("pending"),!s.zb(t,8)._animationsEnabled]),n(t,16,0,s.zb(t,17)._isServer,s.zb(t,17).id,s.zb(t,17).placeholder,s.zb(t,17).disabled,s.zb(t,17).required,s.zb(t,17).readonly&&!s.zb(t,17)._isNativeSelect||null,s.zb(t,17)._ariaDescribedby||null,s.zb(t,17).errorState,s.zb(t,17).required.toString()),n(t,19,0,e.searching,s.zb(t,20)._noopAnimations,s.zb(t,20).diameter,s.zb(t,20).diameter)})}var T=function(){function n(){}return n.prototype.transform=function(n,t){void 0===t&&(t=250);var e=n.replace(/(<([^>]+)>)/gi,"");return n.length>=t?e.slice(0,t)+"...":e},n}(),L=e("ZYCi"),$=function(){function n(){}return n.prototype.transform=function(n){if(!n)return"Author Unknown";switch(n.length){case 0:return"Author Unknown";case 1:return n[0];case 2:return n.join(" and ");default:var t=n[n.length-1];return n.slice(0,-1).join(", ")+", and "+t}},n}(),N=e("0/Q6"),R=function(){function n(){}return Object.defineProperty(n.prototype,"authors",{get:function(){return this.book.volumeInfo.authors},enumerable:!0,configurable:!0}),n}(),E=s.ob({encapsulation:0,styles:["h5[_ngcontent-%COMP%] {\n        margin-bottom: 5px;\n      }"],data:{}});function G(n){return s.Ib(0,[s.Bb(0,$,[]),(n()(),s.qb(1,0,null,null,2,"h5",[["class","mat-subheader"],["mat-subheader",""]],null,null,null,null,null)),s.pb(2,16384,null,0,N.f,[],null,null),(n()(),s.Gb(-1,null,["Written By:"])),(n()(),s.qb(4,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),s.Gb(5,null,[" "," "])),s.Cb(6,1)],null,function(n,t){var e=t.component,o=s.Hb(t,5,0,n(t,6,0,s.zb(t,0),e.authors));n(t,5,0,o)})}var H=function(){function n(){}return Object.defineProperty(n.prototype,"id",{get:function(){return this.book.id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.book.volumeInfo.title},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitle",{get:function(){return this.book.volumeInfo.subtitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"description",{get:function(){return this.book.volumeInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnail",{get:function(){return!!this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")},enumerable:!0,configurable:!0}),n}(),X=s.ob({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: flex;\n      }\n\n      [_nghost-%COMP%]   a[_ngcontent-%COMP%] {\n        display: flex;\n      }\n\n      mat-card[_ngcontent-%COMP%] {\n        width: 400px;\n        margin: 15px;\n        display: flex;\n        flex-flow: column;\n        justify-content: space-between;\n      }\n\n      @media only screen and (max-width: 768px) {\n        mat-card[_ngcontent-%COMP%] {\n          margin: 15px 0 !important;\n        }\n      }\n      mat-card[_ngcontent-%COMP%]:hover {\n        box-shadow: 3px 3px 16px -2px rgba(0, 0, 0, 0.5);\n      }\n      mat-card-title[_ngcontent-%COMP%] {\n        margin-right: 10px;\n      }\n      mat-card-title-group[_ngcontent-%COMP%] {\n        margin: 0;\n      }\n      a[_ngcontent-%COMP%] {\n        color: inherit;\n        text-decoration: none;\n      }\n      img[_ngcontent-%COMP%] {\n        width: 60px;\n        min-width: 60px;\n        margin-left: 5px;\n      }\n      mat-card-content[_ngcontent-%COMP%] {\n        margin-top: 15px;\n        margin: 15px 0 0;\n      }\n      span[_ngcontent-%COMP%] {\n        display: inline-block;\n        font-size: 13px;\n      }\n      mat-card-footer[_ngcontent-%COMP%] {\n        padding: 0 25px 25px;\n      }"],data:{}});function D(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"img",[["class","mat-card-sm-image"],["mat-card-sm-image",""]],[[8,"src",4]],null,null,null,null)),s.pb(1,16384,null,0,m.g,[],null,null)],null,function(n,t){n(t,0,0,t.component.thumbnail)})}function W(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,3,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),s.pb(1,16384,null,0,m.h,[],null,null),(n()(),s.Gb(2,null,["",""])),s.Cb(3,2)],null,function(n,t){var e=t.component,o=s.Hb(t,2,0,n(t,3,0,s.zb(t.parent,0),e.subtitle,40));n(t,2,0,o)})}function Y(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),s.Gb(1,null,["",""])),s.Cb(2,1)],null,function(n,t){var e=t.component,o=s.Hb(t,1,0,n(t,2,0,s.zb(t.parent,0),e.description));n(t,1,0,o)})}function Z(n){return s.Ib(0,[s.Bb(0,T,[]),(n()(),s.qb(1,0,null,null,22,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==s.zb(n,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&o),o},null,null)),s.pb(2,671744,null,0,L.q,[L.o,L.a,w.h],{routerLink:[0,"routerLink"]},null),s.Ab(3,2),(n()(),s.qb(4,0,null,null,19,"mat-card",[["class","mat-card"]],null,null,null,f.d,f.a)),s.pb(5,49152,null,0,m.a,[],null,null),(n()(),s.qb(6,0,null,0,9,"mat-card-title-group",[["class","mat-card-title-group"]],null,null,null,f.c,f.b)),s.pb(7,49152,null,0,m.j,[],null,null),(n()(),s.hb(16777216,null,1,1,null,D)),s.pb(9,16384,null,0,w.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.qb(10,0,null,0,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.pb(11,16384,null,0,m.i,[],null,null),(n()(),s.Gb(12,null,["",""])),s.Cb(13,2),(n()(),s.hb(16777216,null,0,1,null,W)),s.pb(15,16384,null,0,w.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.qb(16,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s.pb(17,16384,null,0,m.c,[],null,null),(n()(),s.hb(16777216,null,null,1,null,Y)),s.pb(19,16384,null,0,w.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.qb(20,0,null,1,3,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),s.pb(21,16384,null,0,m.d,[],null,null),(n()(),s.qb(22,0,null,null,1,"bc-book-authors",[],null,null,null,G,E)),s.pb(23,49152,null,0,R,[],{book:[0,"book"]},null)],function(n,t){var e=t.component,o=n(t,3,0,"/books",e.id);n(t,2,0,o),n(t,9,0,e.thumbnail),n(t,15,0,e.subtitle),n(t,19,0,e.description),n(t,23,0,e.book)},function(n,t){var e=t.component;n(t,1,0,s.zb(t,2).target,s.zb(t,2).href);var o=s.Hb(t,12,0,n(t,13,0,s.zb(t,0),e.title,35));n(t,12,0,o)})}var V=function(){return function(){}}(),J=s.ob({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: center;\n      }"],data:{}});function K(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"bc-book-preview",[],null,null,null,Z,X)),s.pb(1,49152,null,0,H,[],{book:[0,"book"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function Q(n){return s.Ib(0,[(n()(),s.hb(16777216,null,null,1,null,K)),s.pb(1,278528,null,0,w.i,[s.P,s.M,s.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,1,0,t.component.books)},null)}var U,nn=e("bUQ0"),tn=e("t9fZ");!function(n){n.LoadBook="[Book Exists Guard] Load Book"}(U||(U={}));var en,on=function(){return function(n){this.payload=n,this.type=U.LoadBook}}();!function(n){n.SearchSuccess="[Books/API] Search Success",n.SearchFailure="[Books/API] Search Failure"}(en||(en={}));var ln,rn=function(){return function(n){this.payload=n,this.type=en.SearchSuccess}}(),un=function(){return function(n){this.payload=n,this.type=en.SearchFailure}}();!function(n){n.AddBookSuccess="[Collection/API] Add Book Success",n.AddBookFailure="[Collection/API] Add Book Failure",n.RemoveBookSuccess="[Collection/API] Remove Book Success",n.RemoveBookFailure="[Collection/API] Remove Book Failure",n.LoadBooksSuccess="[Collection/API] Load Books Success",n.LoadBooksFailure="[Collection/API] Load Books Failure"}(ln||(ln={}));var an,cn=function(){return function(n){this.payload=n,this.type=ln.AddBookSuccess}}(),sn=function(){return function(n){this.payload=n,this.type=ln.AddBookFailure}}(),bn=function(){return function(n){this.payload=n,this.type=ln.RemoveBookSuccess}}(),dn=function(){return function(n){this.payload=n,this.type=ln.RemoveBookFailure}}(),pn=function(){return function(n){this.payload=n,this.type=ln.LoadBooksSuccess}}(),fn=function(){return function(n){this.payload=n,this.type=ln.LoadBooksFailure}}();!function(n){n.LoadCollection="[Collection Page] Load Collection"}(an||(an={}));var mn,hn=function(){return function(){this.type=an.LoadCollection}}();!function(n){n.SearchBooks="[Find Book Page] Search Books"}(mn||(mn={}));var gn,kn=function(){return function(n){this.payload=n,this.type=mn.SearchBooks}}();!function(n){n.AddBook="[Selected Book Page] Add Book",n.RemoveBook="[Selected Book Page] Remove Book"}(gn||(gn={}));var yn,vn=function(){return function(n){this.payload=n,this.type=gn.AddBook}}(),On=function(){return function(n){this.payload=n,this.type=gn.RemoveBook}}();!function(n){n.SelectBook="[View Book Page] Select Book"}(yn||(yn={}));var Bn=function(){return function(n){this.payload=n,this.type=yn.SelectBook}}(),jn=e("wvrL"),xn=function(){return(xn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)},Cn={ids:[],loading:!1,error:"",query:""};function wn(n,t){switch(void 0===n&&(n=Cn),t.type){case u.FindBookPageActionTypes.SearchBooks:var e=t.payload;return""===e?{ids:[],loading:!1,error:"",query:e}:xn({},n,{loading:!0,error:"",query:e});case l.BooksApiActionTypes.SearchSuccess:return{ids:t.payload.map(function(n){return n.id}),loading:!1,error:"",query:n.query};case l.BooksApiActionTypes.SearchFailure:return xn({},n,{loading:!1,error:t.payload});default:return n}}var In=function(){return(In=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)},Pn=function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n}({});function Sn(n){return function(t,e){var o={ids:e.ids.slice(),entities:In({},e.entities)},l=n(t,o);return l===Pn.Both?Object.assign({},e,o):l===Pn.EntitiesOnly?In({},e,{entities:o.entities}):e}}function An(n,t){var e=t(n);return Object(s.Y)()&&void 0===e&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",t.toString()),e}function _n(n){function t(t,e){var o=An(t,n);return o in e.entities?Pn.None:(e.ids.push(o),e.entities[o]=t,Pn.Both)}function e(n,e){for(var o=!1,l=0,r=n;l<r.length;l++)o=t(r[l],e)!==Pn.None||o;return o?Pn.Both:Pn.None}function o(n,t){var e=(n instanceof Array?n:t.ids.filter(function(e){return n(t.entities[e])})).filter(function(n){return n in t.entities}).map(function(n){return delete t.entities[n]}).length>0;return e&&(t.ids=t.ids.filter(function(n){return n in t.entities})),e?Pn.Both:Pn.None}function l(t,e){var o={};return(t=t.filter(function(n){return n.id in e.entities})).length>0?t.filter(function(t){return function(t,e,o){var l=Object.assign({},o.entities[e.id],e.changes),r=An(l,n),i=r!==e.id;return i&&(t[e.id]=r,delete o.entities[e.id]),o.entities[r]=l,i}(o,t,e)}).length>0?(e.ids=e.ids.map(function(n){return o[n]||n}),Pn.Both):Pn.EntitiesOnly:Pn.None}function r(t,o){for(var r=[],i=[],u=0,a=t;u<a.length;u++){var c=a[u],s=An(c,n);s in o.entities?i.push({id:s,changes:c}):r.push(c)}var b=l(i,o),d=e(r,o);switch(!0){case d===Pn.None&&b===Pn.None:return Pn.None;case d===Pn.Both||b===Pn.Both:return Pn.Both;default:return Pn.EntitiesOnly}}return{removeAll:function(n){return Object.assign({},n,{ids:[],entities:{}})},addOne:Sn(t),addMany:Sn(e),addAll:Sn(function(n,t){return t.ids=[],t.entities={},e(n,t),Pn.Both}),updateOne:Sn(function(n,t){return l([n],t)}),updateMany:Sn(l),upsertOne:Sn(function(n,t){return r([n],t)}),upsertMany:Sn(r),removeOne:Sn(function(n,t){return o([n],t)}),removeMany:Sn(o),map:Sn(function(n,t){return l(t.ids.reduce(function(e,o){var l=n(t.entities[o]);return l!==t.entities[o]&&e.push({id:o,changes:l}),e},[]).filter(function(n){return n.id in t.entities}),t)})}}var qn=function(){return(qn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)},Mn=function(){return(Mn=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)},zn=function(n){void 0===n&&(n={});var t=qn({sortComparer:!1,selectId:function(n){return n.id}},n),e=t.selectId,o=t.sortComparer,l={getInitialState:function(n){return void 0===n&&(n={}),Object.assign({ids:[],entities:{}},n)}},r={getSelectors:function(n){var t=function(n){return n.ids},e=function(n){return n.entities},o=Object(jn.b)(t,e,function(n,t){return n.map(function(n){return t[n]})}),l=Object(jn.b)(t,function(n){return n.length});return n?{selectIds:Object(jn.b)(n,t),selectEntities:Object(jn.b)(n,e),selectAll:Object(jn.b)(n,o),selectTotal:Object(jn.b)(n,l)}:{selectIds:t,selectEntities:e,selectAll:o,selectTotal:l}}},i=o?function(n,t){var e=_n(n);function o(t,e){var o=t.filter(function(t){return!(An(t,n)in e.entities)});return 0===o.length?Pn.None:(i(o,e),Pn.Both)}function l(t,e){var o=[],l=t.filter(function(t){return function(t,e,o){if(!(e.id in o.entities))return!1;var l=Object.assign({},o.entities[e.id],e.changes),r=An(l,n);return delete o.entities[e.id],t.push(l),r!==e.id}(o,t,e)}).length>0;if(0===o.length)return Pn.None;var r=e.ids,u=[];return e.ids=e.ids.filter(function(n,t){return n in e.entities||(u.push(t),!1)}),i(o,e),!l&&u.every(function(n){return e.ids[n]===r[n]})?Pn.EntitiesOnly:Pn.Both}function r(t,e){for(var r=[],i=[],u=0,a=t;u<a.length;u++){var c=a[u],s=An(c,n);s in e.entities?i.push({id:s,changes:c}):r.push(c)}var b=l(i,e),d=o(r,e);switch(!0){case d===Pn.None&&b===Pn.None:return Pn.None;case d===Pn.Both||b===Pn.Both:return Pn.Both;default:return Pn.EntitiesOnly}}function i(e,o){e.sort(t);for(var l=[],r=0,i=0;r<e.length&&i<o.ids.length;){var u=e[r],a=An(u,n),c=o.ids[i];t(u,o.entities[c])<=0?(l.push(a),r++):(l.push(c),i++)}o.ids=l.concat(r<e.length?e.slice(r).map(n):o.ids.slice(i)),e.forEach(function(t,e){o.entities[n(t)]=t})}return{removeOne:e.removeOne,removeMany:e.removeMany,removeAll:e.removeAll,addOne:Sn(function(n,t){return o([n],t)}),updateOne:Sn(function(n,t){return l([n],t)}),upsertOne:Sn(function(n,t){return r([n],t)}),addAll:Sn(function(n,t){return t.entities={},t.ids=[],o(n,t),Pn.Both}),addMany:Sn(o),updateMany:Sn(l),upsertMany:Sn(r),map:Sn(function(n,t){return l(t.ids.reduce(function(e,o){var l=n(t.entities[o]);return l!==t.entities[o]&&e.push({id:o,changes:l}),e},[]),t)})}}(e,o):_n(e);return qn({selectId:e,sortComparer:o},l,r,i)}({selectId:function(n){return n.id},sortComparer:!1}),Fn=zn.getInitialState({selectedBookId:null});function Tn(n,t){switch(void 0===n&&(n=Fn),t.type){case l.BooksApiActionTypes.SearchSuccess:case r.CollectionApiActionTypes.LoadBooksSuccess:return zn.addMany(t.payload,n);case o.BookActionTypes.LoadBook:return zn.addOne(t.payload,n);case c.ViewBookPageActionTypes.SelectBook:return Mn({},n,{selectedBookId:t.payload});default:return n}}var Ln=function(){return(Ln=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)},$n={loaded:!1,loading:!1,ids:[]};function Nn(n,t){switch(void 0===n&&(n=$n),t.type){case i.CollectionPageActionTypes.LoadCollection:return Ln({},n,{loading:!0});case r.CollectionApiActionTypes.LoadBooksSuccess:return{loaded:!0,loading:!1,ids:t.payload.map(function(n){return n.id})};case r.CollectionApiActionTypes.AddBookSuccess:case r.CollectionApiActionTypes.RemoveBookFailure:return n.ids.indexOf(t.payload.id)>-1?n:Ln({},n,{ids:n.ids.concat([t.payload.id])});case r.CollectionApiActionTypes.RemoveBookSuccess:case r.CollectionApiActionTypes.AddBookFailure:return Ln({},n,{ids:n.ids.filter(function(n){return n!==t.payload.id})});default:return n}}var Rn=Object(jn.a)("books"),En=Object(jn.b)(Rn,function(n){return n.books}),Gn=Object(jn.b)(En,function(n){return n.selectedBookId}),Hn=zn.getSelectors(En).selectEntities,Xn=Object(jn.b)(Hn,Gn,function(n,t){return t&&n[t]}),Dn=Object(jn.b)(Rn,function(n){return n.search}),Wn=Object(jn.b)(Dn,function(n){return n.ids}),Yn=Object(jn.b)(Dn,function(n){return n.query}),Zn=Object(jn.b)(Dn,function(n){return n.loading}),Vn=Object(jn.b)(Dn,function(n){return n.error}),Jn=Object(jn.b)(Hn,Wn,function(n,t){return t.map(function(t){return n[t]})}),Kn=Object(jn.b)(Rn,function(n){return n.collection}),Qn=Object(jn.b)(Kn,function(n){return n.loaded}),Un=(Object(jn.b)(Kn,function(n){return n.loading}),Object(jn.b)(Kn,function(n){return n.ids})),nt=Object(jn.b)(Hn,Un,function(n,t){return t.map(function(t){return n[t]})}),tt=Object(jn.b)(Un,Gn,function(n,t){return t&&n.indexOf(t)>-1}),et=function(){function n(n){this.store=n,this.searchQuery$=n.pipe(Object(nn.c)(Yn),Object(tn.a)(1)),this.books$=n.pipe(Object(nn.c)(Jn)),this.loading$=n.pipe(Object(nn.c)(Zn)),this.error$=n.pipe(Object(nn.c)(Vn))}return n.prototype.search=function(n){this.store.dispatch(new u.SearchBooks(n))},n}(),ot=s.ob({encapsulation:2,styles:[],data:{}});function lt(n){return s.Ib(2,[(n()(),s.qb(0,0,null,null,4,"bc-book-search",[],null,[[null,"search"]],function(n,t,e){var o=!0;return"search"===t&&(o=!1!==n.component.search(e)&&o),o},F,M)),s.pb(1,49152,null,0,q,[],{query:[0,"query"],searching:[1,"searching"],error:[2,"error"]},{search:"search"}),s.Bb(131072,w.b,[s.h]),s.Bb(131072,w.b,[s.h]),s.Bb(131072,w.b,[s.h]),(n()(),s.qb(5,0,null,null,2,"bc-book-preview-list",[],null,null,null,Q,J)),s.pb(6,49152,null,0,V,[],{books:[0,"books"]},null),s.Bb(131072,w.b,[s.h])],function(n,t){var e=t.component;n(t,1,0,s.Hb(t,1,0,s.zb(t,2).transform(e.searchQuery$)),s.Hb(t,1,1,s.zb(t,3).transform(e.loading$)),s.Hb(t,1,2,s.zb(t,4).transform(e.error$))),n(t,6,0,s.Hb(t,6,0,s.zb(t,7).transform(e.books$)))},null)}function rt(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"bc-find-book-page",[],null,null,null,lt,ot)),s.pb(1,49152,null,0,et,[nn.b],null,null)],null,null)}var it=s.mb("bc-find-book-page",et,rt,{},{},[]),ut=e("bujt"),at=e("UodH"),ct=e("lLAP"),st=function(){function n(){this.add=new s.m,this.remove=new s.m}return Object.defineProperty(n.prototype,"id",{get:function(){return this.book.id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.book.volumeInfo.title},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subtitle",{get:function(){return this.book.volumeInfo.subtitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"description",{get:function(){return this.book.volumeInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnail",{get:function(){return this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail&&this.book.volumeInfo.imageLinks.smallThumbnail.replace("http:","")},enumerable:!0,configurable:!0}),n}(),bt=s.ob({encapsulation:0,styles:["[_nghost-%COMP%] {\n        display: flex;\n        justify-content: center;\n        margin: 75px 0;\n      }\n      mat-card[_ngcontent-%COMP%] {\n        max-width: 600px;\n      }\n      mat-card-title-group[_ngcontent-%COMP%] {\n        margin-left: 0;\n      }\n      img[_ngcontent-%COMP%] {\n        width: 60px;\n        min-width: 60px;\n        margin-left: 5px;\n      }\n      mat-card-content[_ngcontent-%COMP%] {\n        margin: 15px 0 50px;\n      }\n      mat-card-actions[_ngcontent-%COMP%] {\n        margin: 25px 0 0 !important;\n      }\n      mat-card-footer[_ngcontent-%COMP%] {\n        padding: 0 25px 25px;\n        position: relative;\n      }"],data:{}});function dt(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),s.pb(1,16384,null,0,m.h,[],null,null),(n()(),s.Gb(2,null,["",""]))],null,function(n,t){n(t,2,0,t.component.subtitle)})}function pt(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"img",[["class","mat-card-sm-image"],["mat-card-sm-image",""]],[[8,"src",4]],null,null,null,null)),s.pb(1,16384,null,0,m.g,[],null,null)],null,function(n,t){n(t,0,0,t.component.thumbnail)})}function ft(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var o=!0,l=n.component;return"click"===t&&(o=!1!==l.remove.emit(l.book)&&o),o},ut.b,ut.a)),s.pb(1,180224,null,0,at.b,[s.k,v.a,ct.b,[2,O.a]],{color:[0,"color"]},null),(n()(),s.Gb(-1,0,[" Remove Book from Collection "]))],function(n,t){n(t,1,0,"warn")},function(n,t){n(t,0,0,s.zb(t,1).disabled||null,"NoopAnimations"===s.zb(t,1)._animationMode)})}function mt(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var o=!0,l=n.component;return"click"===t&&(o=!1!==l.add.emit(l.book)&&o),o},ut.b,ut.a)),s.pb(1,180224,null,0,at.b,[s.k,v.a,ct.b,[2,O.a]],{color:[0,"color"]},null),(n()(),s.Gb(-1,0,[" Add Book to Collection "]))],function(n,t){n(t,1,0,"primary")},function(n,t){n(t,0,0,s.zb(t,1).disabled||null,"NoopAnimations"===s.zb(t,1)._animationMode)})}function ht(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,23,"mat-card",[["class","mat-card"]],null,null,null,f.d,f.a)),s.pb(1,49152,null,0,m.a,[],null,null),(n()(),s.qb(2,0,null,0,8,"mat-card-title-group",[["class","mat-card-title-group"]],null,null,null,f.c,f.b)),s.pb(3,49152,null,0,m.j,[],null,null),(n()(),s.qb(4,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.pb(5,16384,null,0,m.i,[],null,null),(n()(),s.Gb(6,null,["",""])),(n()(),s.hb(16777216,null,0,1,null,dt)),s.pb(8,16384,null,0,w.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.hb(16777216,null,1,1,null,pt)),s.pb(10,16384,null,0,w.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.qb(11,0,null,0,2,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s.pb(12,16384,null,0,m.c,[],null,null),(n()(),s.qb(13,0,null,null,0,"p",[],[[8,"innerHTML",1]],null,null,null,null)),(n()(),s.qb(14,0,null,1,3,"mat-card-footer",[["class","footer mat-card-footer"]],null,null,null,null,null)),s.pb(15,16384,null,0,m.d,[],null,null),(n()(),s.qb(16,0,null,null,1,"bc-book-authors",[],null,null,null,G,E)),s.pb(17,49152,null,0,R,[],{book:[0,"book"]},null),(n()(),s.qb(18,0,null,0,5,"mat-card-actions",[["align","start"],["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),s.pb(19,16384,null,0,m.b,[],{align:[0,"align"]},null),(n()(),s.hb(16777216,null,null,1,null,ft)),s.pb(21,16384,null,0,w.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null),(n()(),s.hb(16777216,null,null,1,null,mt)),s.pb(23,16384,null,0,w.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,8,0,e.subtitle),n(t,10,0,e.thumbnail),n(t,17,0,e.book),n(t,19,0,"start"),n(t,21,0,e.inCollection),n(t,23,0,!e.inCollection)},function(n,t){var e=t.component;n(t,6,0,e.title),n(t,13,0,e.description),n(t,18,0,"end"===s.zb(t,19).align)})}function gt(n){return s.Ib(0,[(n()(),s.hb(16777216,null,null,1,null,ht)),s.pb(1,16384,null,0,w.j,[s.P,s.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.book)},null)}var kt=function(){function n(n){this.store=n,this.book$=n.pipe(Object(nn.c)(Xn)),this.isSelectedBookInCollection$=n.pipe(Object(nn.c)(tt))}return n.prototype.addToCollection=function(n){this.store.dispatch(new a.AddBook(n))},n.prototype.removeFromCollection=function(n){this.store.dispatch(new a.RemoveBook(n))},n}(),yt=s.ob({encapsulation:2,styles:[],data:{}});function vt(n){return s.Ib(2,[(n()(),s.qb(0,0,null,null,3,"bc-book-detail",[],null,[[null,"add"],[null,"remove"]],function(n,t,e){var o=!0,l=n.component;return"add"===t&&(o=!1!==l.addToCollection(e)&&o),"remove"===t&&(o=!1!==l.removeFromCollection(e)&&o),o},gt,bt)),s.pb(1,49152,null,0,st,[],{book:[0,"book"],inCollection:[1,"inCollection"]},{add:"add",remove:"remove"}),s.Bb(131072,w.b,[s.h]),s.Bb(131072,w.b,[s.h])],function(n,t){var e=t.component;n(t,1,0,s.Hb(t,1,0,s.zb(t,2).transform(e.book$)),s.Hb(t,1,1,s.zb(t,3).transform(e.isSelectedBookInCollection$)))},null)}var Ot=e("67Y/"),Bt=function(){function n(n,t){this.actionsSubscription=t.params.pipe(Object(Ot.a)(function(n){return new c.SelectBook(n.id)})).subscribe(n)}return n.prototype.ngOnDestroy=function(){this.actionsSubscription.unsubscribe()},n}(),jt=s.ob({encapsulation:2,styles:[],data:{}});function xt(n){return s.Ib(2,[(n()(),s.qb(0,0,null,null,1,"bc-selected-book-page",[],null,null,null,vt,yt)),s.pb(1,49152,null,0,kt,[nn.b],null,null)],null,null)}function Ct(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"bc-view-book-page",[],null,null,null,xt,jt)),s.pb(1,180224,null,0,Bt,[nn.b,L.a],null,null)],null,null)}var wt=s.mb("bc-view-book-page",Bt,Ct,{},{},[]),It=function(){function n(n){this.store=n,this.books$=n.pipe(Object(nn.c)(nt))}return n.prototype.ngOnInit=function(){this.store.dispatch(new i.LoadCollection)},n}(),Pt=s.ob({encapsulation:0,styles:["mat-card-title[_ngcontent-%COMP%] {\n        display: flex;\n        justify-content: center;\n      }"],data:{}});function St(n){return s.Ib(2,[(n()(),s.qb(0,0,null,null,4,"mat-card",[["class","mat-card"]],null,null,null,f.d,f.a)),s.pb(1,49152,null,0,m.a,[],null,null),(n()(),s.qb(2,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),s.pb(3,16384,null,0,m.i,[],null,null),(n()(),s.Gb(-1,null,["My Collection"])),(n()(),s.qb(5,0,null,null,2,"bc-book-preview-list",[],null,null,null,Q,J)),s.pb(6,49152,null,0,V,[],{books:[0,"books"]},null),s.Bb(131072,w.b,[s.h])],function(n,t){var e=t.component;n(t,6,0,s.Hb(t,6,0,s.zb(t,7).transform(e.books$)))},null)}function At(n){return s.Ib(0,[(n()(),s.qb(0,0,null,null,1,"bc-collection-page",[],null,null,null,St,Pt)),s.pb(1,114688,null,0,It,[nn.b],null,null)],function(n,t){n(t,1,0)},null)}var _t=s.mb("bc-collection-page",It,At,{},{},[]),qt=e("M2Lx"),Mt=e("eDkP"),zt=e("o3x0"),Ft=e("qAlS"),Tt=e("Nsh5"),Lt=e("LC5p"),$t=e("SMsm"),Nt=e("8mMr"),Rt=e("4c35"),Et=e("U8Sl"),Gt=function(){return function(){}}(),Ht=function(){return function(){}}(),Xt=e("F/XL"),Dt=e("VnD/"),Wt=e("xMyE"),Yt=e("9Z1F"),Zt=e("15JJ"),Vt=e("t/Na"),Jt=function(){function n(n){this.http=n,this.API_PATH="https://www.googleapis.com/books/v1/volumes"}return n.prototype.searchBooks=function(n){return this.http.get(this.API_PATH+"?q="+n).pipe(Object(Ot.a)(function(n){return n.items||[]}))},n.prototype.retrieveBook=function(n){return this.http.get(this.API_PATH+"/"+n)},n.ngInjectableDef=s.T({factory:function(){return new n(s.X(Vt.c))},token:n,providedIn:"root"}),n}(),Kt=function(){function n(n,t,e){this.store=n,this.googleBooks=t,this.router=e}return n.prototype.waitForCollectionToLoad=function(){return this.store.pipe(Object(nn.c)(Qn),Object(Dt.a)(function(n){return n}),Object(tn.a)(1))},n.prototype.hasBookInStore=function(n){return this.store.pipe(Object(nn.c)(Hn),Object(Ot.a)(function(t){return!!t[n]}),Object(tn.a)(1))},n.prototype.hasBookInApi=function(n){var t=this;return this.googleBooks.retrieveBook(n).pipe(Object(Ot.a)(function(n){return new o.LoadBook(n)}),Object(Wt.a)(function(n){return t.store.dispatch(n)}),Object(Ot.a)(function(n){return!!n}),Object(Yt.a)(function(){return t.router.navigate(["/404"]),Object(Xt.a)(!1)}))},n.prototype.hasBook=function(n){var t=this;return this.hasBookInStore(n).pipe(Object(Zt.a)(function(e){return e?Object(Xt.a)(e):t.hasBookInApi(n)}))},n.prototype.canActivate=function(n){var t=this;return this.waitForCollectionToLoad().pipe(Object(Zt.a)(function(){return t.hasBook(n.params.id)}))},n.ngInjectableDef=s.T({factory:function(){return new n(s.X(nn.b),s.X(Jt),s.X(L.o))},token:n,providedIn:"root"}),n}(),Qt=function(){return function(){}}(),Ut=e("KoCW"),ne=e("kNOE"),te=e("eeLN"),ee=e("PXu1"),oe=e("mrSG"),le=e("fuZ8"),re=e("dh7u"),ie=e("T1DM"),ue=e("G5J1"),ae=e("Gi3i"),ce=e("0mNj"),se=e("ny24"),be=function(){function n(n,t){var e=this;this.actions$=n,this.googleBooks=t,this.search$=function(n){var t=void 0===n?{}:n,o=t.debounce,r=void 0===o?300:o,i=t.scheduler,a=void 0===i?ie.a:i;return e.actions$.pipe(Object(le.b)(u.FindBookPageActionTypes.SearchBooks),Object(ae.a)(r,a),Object(Ot.a)(function(n){return n.payload}),Object(Zt.a)(function(n){if(""===n)return ue.a;var t=e.actions$.pipe(Object(le.b)(u.FindBookPageActionTypes.SearchBooks),Object(ce.a)(1));return e.googleBooks.searchBooks(n).pipe(Object(se.a)(t),Object(Ot.a)(function(n){return new l.SearchSuccess(n)}),Object(Yt.a)(function(n){return Object(Xt.a)(new l.SearchFailure(n))}))}))}}return Object(oe.b)([Object(re.a)(),Object(oe.d)("design:type",Object)],n.prototype,"search$",void 0),n}(),de=e("lYZG"),pe=e("6blF"),fe=e("Qgas");function me(n,t,e){return 0===e?[t]:(n.push(t),n)}var he=e("psW0"),ge=function(){function n(n,t){var e=this;this.actions$=n,this.db=t,this.openDB$=Object(de.a)(function(){return e.db.open("books_app")}),this.loadCollection$=this.actions$.pipe(Object(le.b)(i.CollectionPageActionTypes.LoadCollection),Object(Zt.a)(function(){return e.db.query("books").pipe(Object(fe.a)(me,[]),Object(Ot.a)(function(n){return new r.LoadBooksSuccess(n)}),Object(Yt.a)(function(n){return Object(Xt.a)(new r.LoadBooksFailure(n))}))})),this.addBookToCollection$=this.actions$.pipe(Object(le.b)(a.SelectedBookPageActionTypes.AddBook),Object(Ot.a)(function(n){return n.payload}),Object(he.a)(function(n){return e.db.insert("books",[n]).pipe(Object(Ot.a)(function(){return new r.AddBookSuccess(n)}),Object(Yt.a)(function(){return Object(Xt.a)(new r.AddBookFailure(n))}))})),this.removeBookFromCollection$=this.actions$.pipe(Object(le.b)(a.SelectedBookPageActionTypes.RemoveBook),Object(Ot.a)(function(n){return n.payload}),Object(he.a)(function(n){return e.db.executeWrite("books","delete",[n.id]).pipe(Object(Ot.a)(function(){return new r.RemoveBookSuccess(n)}),Object(Yt.a)(function(){return Object(Xt.a)(new r.RemoveBookFailure(n))}))}))}return Object(oe.b)([Object(re.a)({dispatch:!1}),Object(oe.d)("design:type",pe.a)],n.prototype,"openDB$",void 0),Object(oe.b)([Object(re.a)(),Object(oe.d)("design:type",pe.a)],n.prototype,"loadCollection$",void 0),Object(oe.b)([Object(re.a)(),Object(oe.d)("design:type",pe.a)],n.prototype,"addBookToCollection$",void 0),Object(oe.b)([Object(re.a)(),Object(oe.d)("design:type",pe.a)],n.prototype,"removeBookFromCollection$",void 0),n}(),ke=e("nNXz"),ye=e("D9r6"),ve=e("IvYz"),Oe=e("DB2k"),Be=e("6hZr");e.d(t,"BooksModuleNgFactory",function(){return je});var je=s.nb(b,[],function(n){return s.wb([s.xb(512,s.j,s.cb,[[8,[d.a,p.a,it,wt,_t]],[3,s.j],s.x]),s.xb(4608,w.l,w.k,[s.u,[2,w.u]]),s.xb(4608,qt.c,qt.c,[]),s.xb(4608,k.b,k.b,[]),s.xb(4608,Mt.a,Mt.a,[Mt.g,Mt.c,s.j,Mt.f,Mt.d,s.q,s.z,w.d,y.b,[2,w.g]]),s.xb(5120,Mt.h,Mt.i,[Mt.a]),s.xb(5120,zt.b,zt.c,[Mt.a]),s.xb(135680,zt.d,zt.d,[Mt.a,s.q,[2,w.g],[2,zt.a],zt.b,[3,zt.d],Mt.c]),s.xb(4608,j.d,j.d,[]),s.xb(4608,j.q,j.q,[]),s.xb(1073742336,w.c,w.c,[]),s.xb(1073742336,v.b,v.b,[]),s.xb(1073742336,x.c,x.c,[]),s.xb(1073742336,qt.d,qt.d,[]),s.xb(1073742336,g.d,g.d,[]),s.xb(1073742336,B.b,B.b,[]),s.xb(1073742336,y.a,y.a,[]),s.xb(1073742336,k.j,k.j,[[2,k.c],[2,I.g]]),s.xb(1073742336,m.f,m.f,[]),s.xb(1073742336,k.t,k.t,[]),s.xb(1073742336,at.c,at.c,[]),s.xb(1073742336,Ft.c,Ft.c,[]),s.xb(1073742336,Tt.h,Tt.h,[]),s.xb(1073742336,k.l,k.l,[]),s.xb(1073742336,k.r,k.r,[]),s.xb(1073742336,Lt.a,Lt.a,[]),s.xb(1073742336,N.d,N.d,[]),s.xb(1073742336,$t.c,$t.c,[]),s.xb(1073742336,Nt.b,Nt.b,[]),s.xb(1073742336,C.c,C.c,[]),s.xb(1073742336,Rt.f,Rt.f,[]),s.xb(1073742336,Mt.e,Mt.e,[]),s.xb(1073742336,zt.j,zt.j,[]),s.xb(1073742336,Et.a,Et.a,[]),s.xb(1073742336,j.o,j.o,[]),s.xb(1073742336,j.n,j.n,[]),s.xb(1073742336,L.r,L.r,[[2,L.y],[2,L.o]]),s.xb(1073742336,Gt,Gt,[]),s.xb(1073742336,Ht,Ht,[]),s.xb(1073742336,Qt,Qt,[]),s.xb(1024,Ut.g,function(){return[{}]},[]),s.xb(1024,Ut.f,function(){return[{key:"books",reducerFactory:ne.a,metaReducers:[],initialState:void 0}]},[]),s.xb(1024,Ut.m,te.d,[s.q,Ut.g,Ut.f]),s.xb(1024,Ut.h,function(){return[{search:wn,books:Tn,collection:Nn}]},[]),s.xb(1024,Ut.i,function(n){return[n]},[Ut.h]),s.xb(1024,Ut.a,function(n,t,e){return[te.c(n,t,e)]},[s.q,Ut.h,Ut.i]),s.xb(1073873408,te.a,te.a,[Ut.m,Ut.a,ee.b,te.b]),s.xb(512,be,be,[le.a,Jt]),s.xb(512,ge,ge,[le.a,ke.b]),s.xb(1024,ye.a,function(n,t){return[ve.a(n,t)]},[be,ge]),s.xb(1073742336,Oe.a,Oe.a,[Be.a,ye.a,[2,te.b],[2,te.a]]),s.xb(1073742336,b,b,[]),s.xb(1024,L.m,function(){return[[{path:"find",component:et},{path:":id",component:Bt,canActivate:[Kt]},{path:"",component:It}]]},[])])})}}]);